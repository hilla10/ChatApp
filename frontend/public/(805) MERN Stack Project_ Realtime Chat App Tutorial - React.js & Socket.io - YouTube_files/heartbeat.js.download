(function(g){var window=this;'use strict';var A44=function(O,f){if(!Number.isFinite(O))return String(O);O=String(O);var P=O.indexOf(".");P===-1&&(P=O.length);var x=O[0]==="-"?"-":"";x&&(O=O.substring(1));return x+(0,g.gvg)("0",Math.max(0,f-P))+O},QS4=function(){return{T:"svg",
D:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{T:"path",D:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},Rm2=function(){return{T:"svg",
D:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{T:"path",D:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},Fnr=function(O){typeof O==="number"?(this.date=tE4(O,0,1),qZ(this,1)):g.nS(O)?(this.date=tE4(O.getFullYear(),O.getMonth(),O.getDate()),qZ(this,O.getDate())):(this.date=new Date(g.$J()),O=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),qZ(this,O))},tE4=function(O,f,P){f=new Date(O,f,P);
O>=0&&O<100&&f.setFullYear(f.getFullYear()-1900);return f},qZ=function(O,f){O.getDate()!=f&&O.date.setUTCHours(O.date.getUTCHours()+(O.getDate()<f?1:-1))},LZ=function(O,f){g.Dh.call(this,O,{T:"div",
G:"ytp-reminder-menu",D:{role:"menu",tabindex:"-1"},V:[{T:"div",G:"ytp-reminder-menu-contents",V:[{T:"div",G:"ytp-reminder-menu-items"}]}]},100,!0);this.S=f;this.N=[];this.menuPopupRenderer=void 0;this.items=this.yA("ytp-reminder-menu-items");this.hide()},nMT=function(O){return(O.menuPopupRenderer&&O.menuPopupRenderer.items||[]).reduce(function(f,P){P&&P.menuServiceItemRenderer&&f.push(P.menuServiceItemRenderer);
return f},[])},li=function(O){g.h.call(this,{T:"div",
V:[{T:"button",Cu:["ytp-offline-slate-button","ytp-button"],V:[{T:"div",G:"ytp-offline-slate-button-icon",Ol:"{{icon}}"},{T:"div",G:"ytp-offline-slate-button-text",Ol:"{{text}}"}]}]});this.Y=O;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.N=void 0;this.X=this.S=null;(this.j=this.yA("ytp-offline-slate-button"))&&this.Z(this.j,"click",this.C);this.hide()},jSr=function(O,f,P){!O.toggleButtonRenderer&&f&&f.toggleButtonRenderer?O.toggleButtonRenderer=f.toggleButtonRenderer:
f&&f.toggleButtonRenderer||(O.toggleButtonRenderer=null);
!O.upcomingEventReminderButtonRenderer&&P&&g.q(P,pOF)?O.upcomingEventReminderButtonRenderer=g.q(P,pOF):P&&g.q(P,pOF)||(O.upcomingEventReminderButtonRenderer=null);NZ(O)},NZ=function(O){if(O.toggleButtonRenderer){var f=O.toggleButtonRenderer;
if(f.isToggled){var P=f.toggledText?g.m4(f.toggledText):"";O.update({text:P,icon:HGS(f.toggledIcon)})}else P=f.defaultText?g.m4(f.defaultText):"",O.update({text:P,icon:HGS(f.defaultIcon)});O.show()}else O.upcomingEventReminderButtonRenderer?(f=WnT(O))?(P=f.text?g.m4(f.text):"",O.update({text:P,icon:HGS(f.icon)}),O.show()):O.hide():O.hide()},$gQ=function(O,f,P){O.X||(O.X=new g.aP(O.Y.B().fW));
var x={context:g.mi(O.X.config_||g.Yo())};g.qt()&&(x.context.clientScreenNonce=g.qt());x.params=P;g.sj(O.X,f,x,{timeout:5E3,onSuccess:function(){O.upcomingEventReminderButtonRenderer&&O.N&&(O.upcomingEventReminderButtonRenderer.currentState=O.N,O.N=void 0)},
onError:function(){T79(O)},
onTimeout:function(){T79(O)}})},T79=function(O){O.toggleButtonRenderer?(O.toggleButtonRenderer.isToggled=!O.toggleButtonRenderer.isToggled,NZ(O)):O.upcomingEventReminderButtonRenderer&&(O.N=void 0,NZ(O))},HGS=function(O){if(!O)return null;
switch(O.iconType){case "NOTIFICATIONS":return QS4();case "NOTIFICATIONS_NONE":return Rm2();case "NOTIFICATIONS_ACTIVE":return g.Nz();default:return null}},WnT=function(O){if(!O.upcomingEventReminderButtonRenderer)return null;
var f=O.N||O.upcomingEventReminderButtonRenderer.currentState;O=g.R(O.upcomingEventReminderButtonRenderer.states||[]);for(var P=O.next();!P.done;P=O.next())if((P=g.q(P.value,ZGr))&&P.state===f&&P.button&&g.q(P.button,g.u1))return g.q(P.button,g.u1);return null},c4r=function(O){g.h.call(this,{T:"div",
G:"ytp-offline-slate",V:[{T:"div",G:"ytp-offline-slate-background"},{T:"div",G:"ytp-offline-slate-bar",V:[{T:"span",G:"ytp-offline-slate-icon",V:[{T:"svg",D:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},V:[{T:"path",D:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{T:"circle",D:{cx:"12",cy:"12",r:"3"}}]}]},{T:"span",G:"ytp-offline-slate-messages",V:[{T:"div",G:"ytp-offline-slate-main-text",D:{"aria-label":"{{label}}"},Ol:"{{mainText}}"},{T:"div",G:"ytp-offline-slate-subtitle-text",Ol:"{{subtitleText}}"}]},{T:"span",G:"ytp-offline-slate-buttons"}]},{T:"button",Cu:["ytp-offline-slate-close-button","ytp-button"],V:[g.IM()]},{T:"button",Cu:["ytp-offline-slate-open-button","ytp-button"],V:[g.XW()]}]});var f=this;this.api=O;this.S=this.N=null;this.background=this.yA("ytp-offline-slate-background");
this.K=this.yA("ytp-offline-slate-bar");this.j=new g.Dt(function(){g.BW(f.K,"ytp-offline-slate-bar-fade")},15E3);
this.C=!1;this.X=new g.Dt(function(){g.BW(f.element,"ytp-offline-slate-collapsed")},15E3);
g.v(this,this.X);g.v(this,this.j);this.countdownTimer=new g.Dt(this.xJ,1E3,this);this.Z(O,"presentingplayerstatechange",this.Ng);this.Z(O,"livestatedata",this.Zu);this.Z(this.yA("ytp-offline-slate-close-button"),"click",function(){g.BW(f.element,"ytp-offline-slate-collapsed")});
this.Z(this.yA("ytp-offline-slate-open-button"),"click",function(){g.kz(f.element,"ytp-offline-slate-collapsed")});
this.hide();O=this.getVideoData();O.getPlayerResponse()&&(O=O.getPlayerResponse().playabilityStatus)&&this.Zu(O);O=this.api.getPresentingPlayerType()===8&&!this.getVideoData().u0;var P=this.api.getPresentingPlayerType()===8;g.m7(this.element,"ytp-offline-slate-premiere-trailer",O);g.m7(this.element,"ytp-offline-slate-hide-background",P)},VEJ=function(O,f,P){if(f){var x=f.subtitleText!=null?g.m4(f.subtitleText):"";
P=P?P:f.mainText!=null?g.m4(f.mainText):"";var M,r,d,B;f=(B=(M=f.mainText)==null?void 0:(r=M.accessibility)==null?void 0:(d=r.accessibilityData)==null?void 0:d.label)!=null?B:P;O.update({mainText:P,subtitleText:x,label:f});g.m7(O.element,"ytp-offline-slate-single-text-line",!x);g.m7(O.K,"ytp-offline-slate-bar-hidden",!P&&!x)}},S1=function(O,f){var P=(0,g.Gf)();
this.trigger=O;this.S=f;this.K=P},aF9=function(O){g.gL.call(this,O);
var f=this;this.W=!1;this.J=0;this.j=!1;this.N=new g.Dt(function(){vMF(f)},0);
this.S=this.heartbeatParams=null;this.X=!1;this.C=new g.V8(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.S$=new g.aP(void 0);this.attestationResponse=Promise.resolve(void 0);this.e$=Promise.resolve(void 0);this.utcOffsetMinutes=-(new Fnr).getTimezoneOffset();this.K=new g.kN(this);g.v(this,this.N);g.v(this,this.K);zmE(this);hmF(this);this.K.Z(O,"heartbeatparams",this.mq);this.K.Z(O,"presentingplayerstatechange",this.xZ);this.K.Z(O,"videoplayerreset",this.e3);this.K.Z(O,g.c2("heartbeat"),
this.onCueRangeEnter);this.X&&this.S&&EMF(this,void 0,this.S);var P=new g.$h(ui(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),x=new g.$h(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});O.nz([P,x]);KnS(this)},KnS=function(O){var f=O.getVideoData();
!f.L("use_rta_for_player")&&f.nM&&(f=f.botguardData)&&g.NV(f,O.player.B())},sST=function(O){var f,P;
return g.T(function(x){if(x.S==1)return g.H(x,g.eZd(),2);if(!x.N)return O.sequenceNumber>=3?x.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):x.return(void 0);f=O.getVideoData();P={};return x.return(g.mD0((P.cpn=f.clientPlaybackNonce,P.encryptedVideoId=f.videoId||"",P),1500))})},zmE=function(O){var f=O.getVideoData();
if(f.nM)if(f.L("use_rta_for_player"))O.attestationResponse=sST(O);else if(f=new g.xrd(f),g.qV.isInitialized()||O.sequenceNumber>=3){var P=Promise,x=P.resolve,M=null;if(f.videoData.n2){var r=g.MZE(f);if(r){M={};var d={};r=r.split("&");r=g.R(r);for(var B=r.next();!B.done;B=r.next())B=B.value.split("="),B.length===2&&(d[B[0]]=B[1]);d.r1a&&(M.webResponse=d.r1a);d.r1c&&(M.error=iG2[Number(d.r1c)]);M.challenge=f.videoData.n2}}O.attestationResponse=x.call(P,M||void 0)}},DgQ=function(O){var f=O.getVideoData();
if(!g.pb(O.getVideoData())||f.hs)return!1;if(f.j){O=f.j.flavor==="playready"&&f.L("html5_innertube_heartbeats_for_playready");var P=f.j.flavor==="widevine"&&f.L("html5_innertube_heartbeats_for_widevine");f=g.mj(f.j)&&f.L("html5_innertube_heartbeats_for_fairplay");return!(O||P||f)}return!0},y4J=function(O){if(DgQ(O))return!!O.heartbeatParams;
var f=O.getVideoData();return!g.pb(O.getVideoData())||f.Qx||f.Pp?!!f.heartbeatToken:!1},GY=function(O,f){if(!O.N.isActive()&&O.W){var P=O.getVideoData();
if(y4J(O)||P.isLivePlayback){if(f===void 0)if(O.j)if(O.X)f=7500;else{var x;f=((x=O.heartbeatParams)==null?0:x.interval)?O.heartbeatParams.interval*1E3:O.getVideoData().yh||6E4}else f=1E3;O.N.start(f)}}},xpT=function(O,f,P){f.YL&&(P=g.FC(P,{internalipoverride:f.YL}));
var x={cpn:f.clientPlaybackNonce};f.contextParams&&(x.context_params=f.contextParams);f.Mc&&(x.kpt=f.Mc);P=g.FC(P,x);g.Ry(P,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(M){if(!O.N.isActive()&&CZ(O)){O.C.reset();O.sequenceNumber++;M=M.responseText;var r=OCF(M);if(r){O.player.PB("onHeartbeat",r);var d=r.status==="ok"?r.stop_heartbeat?2:0:r.status==="stop"?1:r.status==="live_stream_offline"?0:-1}else d=(d=M.match(f_4))?d[1]==="0"?0:1:-1;PDF(O,void 0,r,M,d)}},
onError:function(M){CZ(O)&&bi(O,!0,"net-"+M.status)},
onTimeout:function(){CZ(O)&&bi(O,!0,"timeout")},
withCredentials:!0})},vMF=function(O){var f,P;
g.T(function(x){f=O.player.B();P=O.getVideoData();if(!CZ(O))return x.return();if(DgQ(O))return MBT(O,f,P),x.R_(0);zmE(O);return g.H(x,rHZ(O,f,P),0)})},MBT=function(O,f,P){var x;
if((x=O.heartbeatParams)!=null&&x.url){var M=g.FC(O.heartbeatParams.url,{request_id:g.DO2()});P.nu&&(M=g.FC(M,{vvt:P.nu}),P.mdxEnvironment&&(M=g.FC(M,{mdx_environment:P.mdxEnvironment})));g.JL(f,P.oauthToken).then(function(r){r&&(M=g.FC(M,{access_token:r}));xpT(O,P,M)})}},CZ=function(O){var f=O.getVideoData();
return O.player.getPresentingPlayerType()===3||!O.player.B().experiments.Sb().S.jL(g.D1d)&&g.K(O.player.getPlayerStateObject(O.getPlayerType()),4)?!1:y4J(O)||f.isLivePlayback?!0:(AT(O),!1)},rHZ=function(O,f,P){var x,M,r,d,B,k,Y,m,e,X,I,J,l,S,Q,A,t,n,V,Z;
return g.T(function(rU){if(rU.S==1)return x="player/heartbeat",r={videoId:P.videoId,sequenceNumber:O.sequenceNumber,heartbeatServerData:(M=O.nu)!=null?M:P.heartbeatServerData},O.e$=O.attestationResponse,P.nM?g.H(rU,O.e$,3):rU.R_(2);rU.S!=2&&(r.attestationResponse=rU.N);d=g.gQ(P);k=(B=d.client)!=null?B:{};k.utcOffsetMinutes=O.utcOffsetMinutes;r.context=d;r.cpn=P.clientPlaybackNonce;if(Y=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)k.timeZone=Y;m={heartbeatChecks:[]};
if(e=P.getPlayerResponse())P.heartbeatToken&&(r.heartbeatToken=P.heartbeatToken),(X=e.playabilityStatus)&&(I=X.liveStreamability)&&I.liveStreamabilityRenderer&&m.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");P.heartbeatToken&&m.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.kh(f)&&(m.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),J=dp2(O),l={},J!==null&&(l.clientPlayerPositionUtcMillis=J),Q=(S=O.player.CJ())==null?void 0:g.Ch(S),t=((A=Q)==null?void 0:A.freePreviewWatchedDuration)||
0,t>0&&(l.freePreviewWatchedDuration={seconds:""+t}),m.unpluggedParams=l);r.heartbeatRequestParams=m;P.isLivePlayback?(n=dp2(O),n!==null&&(r.playbackState||(r.playbackState={}),r.playbackState.playbackPosition={utcTimeMillis:n})):f.L("enable_heartbeat_vod_playback_position")&&(V=w8Q(O),V!==null&&(r.playbackState||(r.playbackState={}),r.playbackState.playbackPosition={streamTimeMillis:V}));O.player.publish("heartbeatRequest",r);Z={timeout:3E4,onSuccess:function(fd){if(!O.N.isActive()&&CZ(O)){var xK=
O.getVideoData(),BY=xK.nM&&O.e$==null,eQ;xK.nM=!((eQ=fd.heartbeatAttestationConfig)==null||!eQ.requiresAttestation)||BY;BY=fd.playabilityStatus;eQ=JSON.stringify(BY)||"{}";fd.authenticationMismatch&&O.player.Nc("authshear",{});var PY=-1;var N2=fd.playabilityStatus;N2&&(O.player.PB("onHeartbeat",N2),N2.status==="OK"?PY=fd.stopHeartbeat?2:0:N2.status==="UNPLAYABLE"?PY=1:N2.status==="LIVE_STREAM_OFFLINE"&&(PY=0));O.sequenceNumber&&PY===-1||O.C.reset();O.sequenceNumber++;fd.heartbeatServerData&&(O.nu=
fd.heartbeatServerData);xK.Kk=fd;(N2=fd.playerCueRangeSet)&&g.kT(xK,N2);fd.playerCueRanges&&fd.playerCueRanges.length>0&&(xK.cueRanges=fd.playerCueRanges);var iV,wE;((iV=fd.progressBarConfig)==null?0:iV.progressBarStartPosition)&&((wE=fd.progressBarConfig)==null?0:wE.progressBarEndPosition)&&(xK.progressBarStartPosition=fd.progressBarConfig.progressBarStartPosition,xK.progressBarEndPosition=fd.progressBarConfig.progressBarEndPosition);xK.compositeLiveIngestionOffsetToken=fd.compositeLiveIngestionOffsetToken;
fd.compositeLiveStatusToken!==xK.compositeLiveStatusToken&&(xK.compositeLiveStatusToken=fd.compositeLiveStatusToken);xK.heartbeatLoggingToken=fd.heartbeatLoggingToken;xK.publish("dataupdated");PDF(O,fd,BY,eQ,PY)}},
onError:function(fd){CZ(O)&&bi(O,!0,"net-"+fd.status)},
onTimeout:function(){CZ(O)&&bi(O,!0,"timeout")}};
g.JL(f,g.O0(P)).then(function(fd){fd&&(Z.G0="Bearer "+fd);g.sj(O.S$,x,r,Z)});
g.Br(rU)})},PDF=function(O,f,P,x,M){M===-1?(P="decode "+g.Vj(x,3),bi(O,!1,P)):M===2?(AT(O),O.j=!0):(O.J=0,O.N.stop(),M===1?(O.j=!1,P&&P.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&O.player.Ee(!0),M="pe."+(P==null?void 0:P.errorCode)+";ps."+(P==null?void 0:P.status),O.player.xe("heartbeat.stop",2,O.a8(x),M),g.eo("heartbeatActionPlayerHalted",B$4(P)),(f==null?0:f.videoTransitionEndpoint)&&P&&(f=f.videoTransitionEndpoint,(x=g.q(f,g.eY))&&ob4(O,x,P,{itct:f==null?void 0:f.clickTrackingParams}))):(O.j=
!0,x=0,O.X&&P&&(x=EMF(O,f,P),O.player.publish("livestatedata",P)),x?GY(O,x):GY(O)))},EMF=function(O,f,P){var x=P.liveStreamability&&P.liveStreamability.liveStreamabilityRenderer,M=!(!x||!(x.switchStreamsImmediately||x.transitionTiming&&x.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
f=ke4(f,x);var r=O.getVideoData(),d=O.player.getPlayerStateObject(O.getPlayerType()),B=d.isPlaying()&&!g.cu(r)&&!O.player.isAtLiveHead(O.getPlayerType());if(r.B().pJ()){var k,Y=((k=O.player.Uq())==null?void 0:k.Mp())||{};Y.status=P.status||"";Y.dvr=""+ +B;Y["switch"]=""+ +M;Y.ended=""+ +!(!x||!x.displayEndscreen);O.player.Nc("heartbeat",Y)}k=x&&x.broadcastId;Y=O.S&&O.S.liveStreamability&&O.S.liveStreamability.liveStreamabilityRenderer&&O.S.liveStreamability.liveStreamabilityRenderer.broadcastId;var m=
k!==Y&&k!=null;m&&O.player.Nc("lbidh",{broadcastId:k},!0);var e=O.player.L("always_cache_redirect_endpoint");if(B&&!M&&!e)return f;var X=x&&x.streamTransitionEndpoint&&g.q(x.streamTransitionEndpoint,g.eY),I=x&&x.transitionTiming;if(I==="STREAM_TRANSITION_TIMING_AT_STREAM_END")O.getVideoData().transitionEndpointAtEndOfStream=X;else if(e&&!X&&O.getVideoData().transitionEndpointAtEndOfStream)O.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!e&&X&&ob4(O,X,P))return f;if(B&&!M&&e||e&&X&&
(I==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||I==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&ob4(O,X,P))return f;if(P.status.toUpperCase()==="OK"){if(!g.T4(r)||m){var J={video_id:r.videoId};r.Ra&&(J.is_live_destination="1");J.disable_watch_next=!0;J.raw_watch_next_response=r.getWatchNextResponse();J.autonav_state=r.autonavState;J.oauth_token=r.oauthToken;J.yL=r.yL;r.C&&(J.vss_credentials_token=r.C,J.vss_credentials_token_type=r.aA);r.nu&&(J.vvt=r.nu);x=void 0;g.T4(r)?m&&(x=new S1("broadcastIdChanged",
Y+","+k),O.Dr("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",P)):(k&&(x=new S1("formatsReceived",""+k)),O.Dr("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",P));m&&O.player.Nc("lbidr",{broadcastId:k});O.player.loadVideoByPlayerVars(J,void 0,void 0,void 0,x);return f}O.player.kt("heartbeat",O.getPlayerType())}x&&x.displayEndscreen&&(O.offlineSlate?(O=O.offlineSlate,O.C=!0,O.Td&&O.api.Ie()):d.isBuffering()&&
(r=((J=O.player.Uq())==null?void 0:J.Mp())||{},O.player.Nc("hbse",r,!0),O.player.Ie(!0,"h"),O.player.PB("onLiveMediaEnded",P)));return f},ke4=function(O,f){return(O=Number(O==null?void 0:O.pollDelayMs))?O:(f=Number(f==null?void 0:f.pollDelayMs))?f:0},bi=function(O,f,P){if(!O.N.isActive()){O.N.stop();
O.J++;var x=f?"heartbeat.net":"heartbeat.servererror";var M=O.getVideoData();if(M.nQ||f&&!g.pb(O.getVideoData())&&!y4J(O)&&M.isLivePlayback)M=!1;else{var r,d;((d=O.heartbeatParams)==null?0:d.retries)?r=O.heartbeatParams.retries:r=M.NQ||5;M=O.J>=r}M?(g.eo("heartbeatActionPlayerHalted",f?{enforcedPolicyToHaltOnNetworkFailure:!0}:B$4()),(f=O.getVideoData())&&f.isLivePlayback?O.player.xe(x,1,"Video playback interrupted. Please try again.",P):O.player.xe(x,1,"Sorry, there was an error licensing this video.",
P)):(GY(O,O.C.getValue()),g.v6(O.C))}},B$4=function(O){var f={enforcedPolicyToHaltOnNetworkFailure:!1};
O&&(f.serializedServerContext=O.additionalLoggingData);return f},AT=function(O){O.J=0;
O.N.stop();O.j=!1;O.sequenceNumber=0},hmF=function(O){var f=O.getVideoData(),P=O.player.B();
if(f.isLivePlayback)if(g.C9(P.j)){O.X=!0;O.W=!0;if(!g.mG(P)||g.kh(P))O.offlineSlate=new c4r(O.player),g.v(O,O.offlineSlate),g.vg(O.player,O.offlineSlate.element,4);(f=f.getPlayerResponse())&&f.playabilityStatus&&(O.S=f.playabilityStatus);var x;((x=O.S)==null?void 0:x.status)!=="UNPLAYABLE"&&(O.S?(x=ke4(void 0,O.S.liveStreamability&&O.S.liveStreamability.liveStreamabilityRenderer))?GY(O,x):GY(O,7500):GY(O,ui(O,!0)))}else O.player.xe("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.OD(f.Bl,"heartbeat")&&O.player.kt("heartbeat",O.getPlayerType())},ob4=function(O,f,P,x){var M=f&&f.videoId;
return M?(O.player.HG(M,Object.assign({},{autonav:"1"},x||{}),void 0,!0,!0,f,g.O0(O.getVideoData())),O.Dr("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",P),!0):!1},dp2=function(O){return(O=O.player.getProgressState(O.getPlayerType()).ingestionTime)&&isFinite(O)?""+Math.floor(O*1E3):null},w8Q=function(O){return(O=O.player.getCurrentTime(O.getPlayerType()))&&isFinite(O)?""+Math.floor(O*1E3):null},ui=function(O,f){f=f===void 0?!1:f;
O=O.getVideoData();return O.L("html5_use_server_init_heartbeat_delay")?isNaN(O.yh)?15E3:O.yh:f?1E3:2E3},OCF=function(O){try{var f=JSON.parse(O);
return f!=null?f:void 0}catch(P){}},YZ2={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},mp2=YZ2;mp2=YZ2;
var iG2=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],e0Q={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.U=Fnr.prototype;g.U.J7=mp2.FIRSTDAYOFWEEK;g.U.q8=mp2.FIRSTWEEKCUTOFFDAY;
g.U.clone=function(){var O=new Fnr(this.date);O.J7=this.J7;O.q8=this.q8;return O};
g.U.getFullYear=function(){return this.date.getFullYear()};
g.U.getYear=function(){return this.getFullYear()};
g.U.getMonth=function(){return this.date.getMonth()};
g.U.getDate=function(){return this.date.getDate()};
g.U.getTime=function(){return this.date.getTime()};
g.U.getDay=function(){return this.date.getDay()};
g.U.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.U.getUTCMonth=function(){return this.date.getUTCMonth()};
g.U.getUTCDate=function(){return this.date.getUTCDate()};
g.U.getUTCDay=function(){return this.date.getDay()};
g.U.getUTCHours=function(){return this.date.getUTCHours()};
g.U.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.U.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.U.set=function(O){this.date=new Date(O.getFullYear(),O.getMonth(),O.getDate())};
g.U.setFullYear=function(O){this.date.setFullYear(O)};
g.U.setYear=function(O){this.setFullYear(O)};
g.U.setMonth=function(O){this.date.setMonth(O)};
g.U.setDate=function(O){this.date.setDate(O)};
g.U.setTime=function(O){this.date.setTime(O)};
g.U.setUTCFullYear=function(O){this.date.setUTCFullYear(O)};
g.U.setUTCMonth=function(O){this.date.setUTCMonth(O)};
g.U.setUTCDate=function(O){this.date.setUTCDate(O)};
g.U.add=function(O){if(O.years||O.months){var f=this.getMonth()+O.months+O.years*12,P=this.getYear()+Math.floor(f/12);f%=12;f<0&&(f+=12);a:{switch(f){case 1:var x=P%4!=0||P%100==0&&P%400!=0?28:29;break a;case 5:case 8:case 10:case 3:x=30;break a}x=31}x=Math.min(x,this.getDate());this.setDate(1);this.setFullYear(P);this.setMonth(f);this.setDate(x)}O.days&&(P=this.getYear(),f=P>=0&&P<=99?-1900:0,O=new Date((new Date(P,this.getMonth(),this.getDate(),12)).getTime()+O.days*864E5),this.setDate(1),this.setFullYear(O.getFullYear()+
f),this.setMonth(O.getMonth()),this.setDate(O.getDate()),qZ(this,O.getDate()))};
g.U.equals=function(O){return!(!O||this.getYear()!=O.getYear()||this.getMonth()!=O.getMonth()||this.getDate()!=O.getDate())};
g.U.toString=function(){var O=this.getFullYear(),f=O<0?"-":O>=1E4?"+":"";return[f+A44(Math.abs(O),f?6:4),A44(this.getMonth()+1,2),A44(this.getDate(),2)].join("")+""};
g.U.valueOf=function(){return this.date.valueOf()};var gbr=new g.nE("addUpcomingEventReminderEndpoint");var X8J=new g.nE("removeUpcomingEventReminderEndpoint");var I_T=new g.nE("updateUpcomingEventReminderButtonStateCommand");var pOF=new g.nE("upcomingEventReminderButtonRenderer"),ZGr=new g.nE("upcomingEventReminderButtonStateRenderer");g.L(LZ,g.Dh);
LZ.prototype.updateMenuItems=function(){var O=this,f=nMT(this),P=0;P=0;for(var x={};P<f.length;x={j5:void 0},P++){var M=this.N[P];M||(M=new g.h({T:"div",G:"ytp-reminder-menu-item",D:{role:"menuitem",tabindex:"0"},V:[{T:"div",G:"ytp-reminder-menu-item-icon",Ol:"{{icon}}"},{T:"div",G:"ytp-reminder-menu-item-label",Ol:"{{text}}"}]}),x.j5=P,M.listen("click",function(d){return function(){var B=d.j5;O.vr();B=nMT(O)[B];O.publish("reminderMenuItemClicked",B.serviceEndpoint||B.command)}}(x)),M.I_(this.items),
this.N[P]=M);
var r=f[P];x=null;switch(r.icon&&r.icon.iconType){case "NOTIFICATIONS":x=QS4();break;case "NOTIFICATIONS_NONE":x=Rm2();break;case "NOTIFICATIONS_ACTIVE":x=g.Nz()}r=r.text?g.m4(r.text):"";M.update({icon:x,text:r})}for(;P<this.N.length;)this.N.pop().dispose();P===0?this.vr():this.V5(this.S)};
LZ.prototype.hide=function(){this.S&&this.S.removeAttribute("aria-haspopup");g.Dh.prototype.hide.call(this)};
LZ.prototype.show=function(){this.S&&this.S.setAttribute("aria-haspopup","true");g.Dh.prototype.show.call(this)};
LZ.prototype.Ku=function(){g.UX(this.N);g.Dh.prototype.Ku.call(this)};g.L(li,g.h);
li.prototype.C=function(){if(this.toggleButtonRenderer){var O=this.toggleButtonRenderer;O.isToggled?this.K(O.toggledServiceEndpoint):this.K(O.defaultServiceEndpoint);O.isToggled=!O.isToggled;NZ(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.S&&this.S.Td)this.S.vr();else{var f=WnT(this);f&&this.K(f.serviceEndpoint||f.command);f=((O=g.q(f==null?void 0:f.command,g.gb))==null?void 0:O.commands)||[];a:{O=g.R(f);for(var P=O.next();!P.done;P=O.next()){var x=f=void 0;if(P=(f=g.q(P.value,g.pYr))==
null?void 0:(x=f.popup)==null?void 0:x.menuPopupRenderer){O=P;break a}}O=void 0}this.S||(this.S=new LZ(this.Y,this.j),this.S.I_(this.element),g.v(this,this.S),this.S.subscribe("reminderMenuItemClicked",this.K,this));f=this.S;f.menuPopupRenderer=O;f.updateMenuItems()}};
li.prototype.K=function(O){var f=g.q(O,gbr),P=g.q(O,X8J);if(O&&(f||P)){if(f){var x=f;var M="notification/add_upcoming_event_reminder"}else P&&(x=P,M="notification/remove_upcoming_event_reminder");if(M&&x&&x.params)for($gQ(this,M,x.params),O=g.R(x.commands||[]),f=O.next();!f.done;f=O.next())if((f=f.value)&&g.q(f,I_T)){this.N=g.q(f,I_T).state;NZ(this);break}}};g.L(c4r,g.h);g.U=c4r.prototype;g.U.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.U.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.U.Zu=function(O){var f,P,x=O==null?void 0:(f=O.liveStreamability)==null?void 0:(P=f.liveStreamabilityRenderer)==null?void 0:P.offlineSlate;if(x){this.N=O;f=x.liveStreamOfflineSlateRenderer;f.canShowCountdown?this.xJ():VEJ(this,f);var M,r,d,B;if(P=O==null?void 0:(M=O.liveStreamability)==null?void 0:(r=M.liveStreamabilityRenderer)==null?void 0:(d=r.offlineSlate)==null?void 0:(B=d.liveStreamOfflineSlateRenderer)==null?void 0:B.thumbnail){M=0;r=null;d=P.thumbnails;for(B=0;B<d.length;B++)d[B].width>
M&&(M=d[B].width||0,r=d[B].url);r&&(this.background.style.backgroundImage="url("+r+")")}else this.background.style.backgroundImage="";f.actionButtons||f.reminderButton?(this.S||(this.S=new li(this.api),this.S.I_(this.yA("ytp-offline-slate-buttons")),g.v(this,this.S)),jSr(this.S,f.actionButtons&&f.actionButtons[0],f.reminderButton)):this.S&&jSr(this.S,null,null);this.N=O}else this.N=null;this.Ng()};
g.U.Ng=function(O){if(this.api.getPresentingPlayerType()===8)var f=!0;else{var P=this.api.getPlayerStateObject(),x=this.getVideoData();f=x.isLivePlayback&&(P.isBuffering()||g.K(P,2)||g.K(P,64));var M=x.autonavState===2&&g.K(P,2);P=P.isPlaying()&&!g.cu(x)&&!this.api.isAtLiveHead(void 0,!0);f=f&&!P&&!M}f&&this.N?this.Td?(O==null?0:g.mH(O,2))&&!this.getVideoData().u0&&(g.kz(this.element,"ytp-offline-slate-collapsed"),this.X.stop(),g.kz(this.K,"ytp-offline-slate-bar-fade"),this.j.start()):(this.show(),
this.X.start(),this.api.publish("offlineslatestatechange"),this.C&&this.api.Ie()):this.Td&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.U.xJ=function(){var O,f,P,x,M=(O=this.N)==null?void 0:(f=O.liveStreamability)==null?void 0:(P=f.liveStreamabilityRenderer)==null?void 0:(x=P.offlineSlate)==null?void 0:x.liveStreamOfflineSlateRenderer;M&&(O=Math.floor(g.$J()/1E3),f=M.canShowCountdown&&Number(M.scheduledStartTime),!f||f<=O?(VEJ(this,M),this.countdownTimer.stop()):(VEJ(this,M,g.lR(f-O)),g.yl(this.countdownTimer)))};
g.U.Ku=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.h.prototype.Ku.call(this)};S1.prototype.N=function(O){return this.trigger&&O.trigger?this.trigger===O.trigger&&this.S===O.S:!1};
S1.prototype.isExpired=function(){return(0,g.Gf)()-this.K>6E4};
S1.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.S};g.L(aF9,g.gL);g.U=aF9.prototype;g.U.Ku=function(){AT(this);this.player.Z2("heartbeat");g.gL.prototype.Ku.call(this)};
g.U.onCueRangeEnter=function(){this.W=!0;GY(this,ui(this))};
g.U.mq=function(O){this.heartbeatParams=O;GY(this,ui(this))};
g.U.xZ=function(O){var f;this.player.getPresentingPlayerType()!==8&&((f=this.S)==null?void 0:f.status)!=="UNPLAYABLE"&&(g.K(O.state,2)||g.K(O.state,64)?(AT(this),this.X&&(this.W=!0,GY(this,ui(this,!0)))):(f=this.player.B().experiments.Sb().S.jL(g.D1d),(g.K(O.state,1)||g.K(O.state,8)||f&&g.K(O.state,4))&&GY(this,ui(this))))};
g.U.e3=function(){this.player.getPresentingPlayerType()!==3&&GY(this,ui(this))};
g.U.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.U.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.U.CV=function(O){switch(O){case 4:case 3:return!1}return!0};
g.U.Dr=function(O,f,P){O={trigger:O,reason:f};P&&(O.serializedServerContext=P.additionalLoggingData);g.eo("heartbeatActionPlayerTransitioned",O)};
g.U.a8=function(O){var f="LICENSE",P=OCF(O);if(P)return P.reason||g.Wi[f]||"";if(O=O.match(f_4))if(O=Number(O[1]))f=(f=e0Q[O.toString()])?f:"LICENSE";return g.Wi[f]||""};
g.U.qt=function(){return!!this.offlineSlate&&this.offlineSlate.Td};
var f_4=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.eu("heartbeat",aF9);})(_yt_player);
